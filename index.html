
<script type="text/javascript" src="bower_components/codemirror/lib/codemirror.js"></script>
<script type="text/javascript" src="bower_components/codemirror/addon/edit/closebrackets.js"></script>
<script type="text/javascript" src="bower_components/codemirror/addon/selection/active-line.js"></script>
<script type="text/javascript" src="bower_components/codemirror/addon/edit/matchbrackets.js"></script>
<link rel="stylesheet" type="text/css" href="bower_components/codemirror/lib/codemirror.css">
<link rel="stylesheet" type="text/css" href="bower_components/codemirror/theme/solarized.css">

<textarea id="editor">echo ==== eval and code

set c $ code
  print (number 1)

print $ eval c

assert
  equal (bool right) (bool yes)
  string "show print this"

set pseudo-func $ code
  set a $ at parent $ at args $ number 1
  set b $ at parent $ at args $ number 2
  add a b

set num-a $ number 3
set num-b $ number 4

print $ call pseudo-func num-a num-b

pseudo-func num-a num-b

echo ==== testing control flows

set a $ number 1
set b $ number 2
set c $ number 1

if (equal a b)
  echo a equals b
  echo a not equals b

if (equal a c)
  echo a is c

if (equal c b)
  echo b is c

print $ begin
  print (number 1)
  string somthing
  number 0

print a
  int 1
  , b c
  int 2
  , d
</textarea>

<script type="text/javascript" src="src/cirru.js"></script>
<style type="text/css">
  body {
    margin: 0px;
  }
  .CodeMirror {
    box-shadow: 0 0 10px black;
    position: absolute;
    height: 100%;
    width: 100%;
  }
</style>

<script type="text/javascript">
  var editor = CodeMirror.fromTextArea(document.querySelector("#editor"), {
    value: "ok",
    mode: "cirru",
    theme: "solarized",
    indentUnit: 2,
    tabSize: 2,
    lineNumbers: true,
    matchBrackets: true,
    autoCloseBrackets: true,
    styleActiveLine: true
  })
</script>